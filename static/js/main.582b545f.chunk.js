(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{47:function(e,t,a){e.exports=a(83)},52:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(23),r=a.n(o),l=(a(52),a(17)),i=a(46),c=a(10),m=a(11),u=a(14),h=a(12),d=a(6),p=a(13),g=a(18),E=a(22),b=a(84),f=a(85),v=a(86),k="https://restroplaza.herokuapp.com",y="https://restroplaza.herokuapp.com/",j=y+"restaurant/",O=y+"login/",N=a(20),w=a.n(N),C=function(e,t){w.a.post(j,e,{headers:{"content-type":"application/json",authorization:"Token "+t}}).then(function(e){alert("Resturant Enrolled"+JSON.stringify(e))}).catch(function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)})},R=function(e,t){console.log("Token "+e),w.a.get("https://restroplaza.herokuapp.com/restaurantByToken/",{headers:{"content-type":"application/json",authorization:"Token "+e}}).then(function(e){return console.log(e.data),t(e.data),e.data}).catch(function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)})},S=function(e){w()({method:"get",url:j,headers:{"content-type":"application/json"}}).then(function(t){return console.log(t.data),e(t.data),t.data}).catch(function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)})},I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={username:"",password:""},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(E.a)({},n,a))}},{key:"handleSubmit",value:function(e){alert("A name was submitted: "+JSON.stringify(this.state)),e.preventDefault(),this.props.login(this.state.username,this.state.password),this.setState({username:"",password:""})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement(b.a,null,s.a.createElement("h1",null,"Login")),s.a.createElement(b.a,null,s.a.createElement(f.a,{onSubmit:this.handleSubmit},s.a.createElement(v.a,null,s.a.createElement("input",{type:"text",placeholder:"username",name:"username",value:this.state.username,onChange:this.handleChange})),s.a.createElement(v.a,null,s.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,placeholder:"password"})),s.a.createElement(v.a,null,s.a.createElement("input",{type:"submit",className:"text-primary"})))))}}]),t}(n.Component),x=a(87),M=a(88),L=a(89),F=a(90),T=a(91),q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={isOpen:!1},a.toggleNavbar=a.toggleNavbar.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"toggleNavbar",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return s.a.createElement(x.a,{dark:!0,expand:"md",color:"dark"},s.a.createElement("div",{className:"container"},s.a.createElement(M.a,{onClick:this.toggleNavbar,className:"mx-1"}),s.a.createElement(l.b,{className:"text-danger mr-auto",to:"/home"},s.a.createElement("span",{className:"fa fa-cutlery fa-lg"})),s.a.createElement(L.a,{isOpen:this.state.isOpen,navbar:!0},s.a.createElement(F.a,{navbar:!0},s.a.createElement(T.a,null,s.a.createElement(l.c,{to:"/login",className:"nav-link "},s.a.createElement("span",{className:"fa fa-sign-in fa-lg text-primary"},"Login"))),s.a.createElement(T.a,null,s.a.createElement(l.c,{className:"nav-link",to:"/aboutus"},s.a.createElement("span",{className:"fa fa-info fa-lg text-primary"}," About Us"))),s.a.createElement(T.a,null,s.a.createElement(l.c,{className:"nav-link",to:"/createUser"},s.a.createElement("span",{className:"fa fa-plus text-primary","aria-hidden":"true"},"  Restaurant"))))),this.props.isLogin?s.a.createElement("button",{className:"btn btn-danger",onClick:this.props.logout},s.a.createElement("i",{className:"fa fa-sign-out","aria-hidden":"true"},"Logout")):s.a.createElement(s.a.Fragment,null)))}}]),t}(s.a.Component),D=a(92),_=function(){return s.a.createElement("div",{className:"container"},s.a.createElement(D.a,null,s.a.createElement("h1",null,"About Us"),s.a.createElement("p",{className:"lead"},"This is a management site for Restaurants, you can simply login your restaurant and manage its details and menu"),s.a.createElement("hr",{className:"my-2"}),s.a.createElement("p",{className:"lead"},s.a.createElement("h4",null,"For more information"),s.a.createElement("strong",null,"GitHub-"),s.a.createElement("a",{href:"#"},"https://github.com/nikeshthapa255"),s.a.createElement("br",null),s.a.createElement("strong",null,"Email-"),s.a.createElement("a",{href:"mailto: nikeshthapa255@gmail.com"},"Email link"))))},U=a(93),z=a(94),A=a(95),J=a(96),G=a(97),P=a(98),V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(U.a,null,s.a.createElement(z.a,{top:!0,width:"100%",height:"150",src:this.props.image,alt:"Ower Image"}),s.a.createElement(A.a,null,s.a.createElement(J.a,null,this.props.title),s.a.createElement(G.a,null,this.props.subtitle),s.a.createElement(P.a,null,this.props.text)))}}]),t}(n.Component),Y=a(101),Z=a(105),B=a(99),H=a(100),W=function(e){var t=["p-3 bg-primary my-2 rounded","p-3 bg-secondary my-2 rounded","p-3 bg-success my-2 rounded","p-3 bg-danger my-2 rounded","p-3 bg-warning my-2 rounded","p-3 bg-info my-2 rounded"],a=t.length,n=0,o=e.dishes.map(function(e){return n+=1,s.a.createElement("div",{className:t[n%a]+" col-6 "},s.a.createElement(Z.a,null,s.a.createElement(B.a,null,e.name),s.a.createElement(H.a,null,s.a.createElement(Y.a,null,s.a.createElement(Y.a,{left:!0},s.a.createElement(Y.a,{object:!0,src:k+e.dishImage,width:"100",height:"100",alt:"Dish Image"})),s.a.createElement(Y.a,{body:!0},s.a.createElement(Y.a,{heading:!0},e.description))))))});return s.a.createElement("div",{className:"row"},o)},K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.props.isLogin&&(this.props.MainRestro.dish=[{description:"asdasd",dishImage:"/media/dishImage/IMG_20180921_142142.jpg",dishName:"Yummy",id:7,join_date:"2019-07-26T09:23:46.020473Z",owner:10},{description:"asdasd",dishImage:"/media/dishImage/IMG_20180921_142142.jpg",dishName:"Yummy",id:7,join_date:"2019-07-26T09:23:46.020473Z",owner:10},{description:"asdasd",dishImage:"/media/dishImage/IMG_20180921_142142.jpg",dishName:"Yummy",id:7,join_date:"2019-07-26T09:23:46.020473Z",owner:10}]),s.a.createElement("div",{className:"container"},s.a.createElement("button",{onClick:function(){return S(e.props.saveRestros)}},"CLick to elements"),s.a.createElement("button",{onClick:function(){return console.log(e.props.restaurants)}},"Click to show elements"),s.a.createElement("div",{class:"jumbotron"},this.props.isLogin?s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"display-3"},"Welcome"),s.a.createElement("div",{className:"lead"},s.a.createElement(Y.a,null,s.a.createElement(Y.a,{left:!0,className:"mx-3"},s.a.createElement(Y.a,{object:!0,src:k+this.props.MainRestro.image,width:"100",height:"100",alt:"Owner Restro"})),s.a.createElement(Y.a,{body:!0},s.a.createElement(Y.a,{heading:!0},this.props.MainRestro.restaurantName),this.props.MainRestro.vision)),s.a.createElement(W,{dishes:this.props.MainRestro.dish}))):s.a.createElement("h1",{class:"display-3"},"Please enter your login credentials"),s.a.createElement("hr",{class:"my-2"})),s.a.createElement("div",{className:"row"},this.props.restaurants.map(function(e){return s.a.createElement("div",{className:"col-4 col-md-2"},s.a.createElement(V,{key:e.id,image:k+e.image,subtitle:"Owner",title:e.resturantName,text:e.vision}))})))}}]),t}(n.Component),Q=function(){return s.a.createElement("div",{className:"col-12"},s.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),s.a.createElement("p",null,"Loading . . ."))},X=a(102),$=a(103),ee=a(104),te=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleImageChange=function(e){a.setState({image:e.target.files[0]})},a.state={username:"",password:"",email:"",restaurantName:"",vision:"",id:-1,image:null,isSubmited:!1},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a.handleImageChange=a.handleImageChange.bind(Object(d.a)(a)),a.createData=a.createData.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(E.a)({},n,a))}},{key:"createData",value:function(){var e=new FormData;return e.append("image",this.state.image,this.state.image.name),e.append("restaurantName",this.state.restaurantName),e.append("vision",this.state.vision),e.append("user",this.state.id),e}},{key:"handleSubmit",value:function(e){var t,a,n,s,o,r,l,i=this;this.setState({isSubmited:!0}),e.preventDefault(),alert("A name was submitted: "+JSON.stringify(this.state)),t=this.state.username,a=this.state.password,n=this.state.email,s=function(e){return i.setState({id:e}),i.createData()},o=function(e){return i.props.login(i.state.username,i.state.password,e)},r=this.props.isLogin,l=this.props.token,w.a.post("https://restroplaza.herokuapp.com//user/",{username:t,password:a,email:n},{headers:{"content-type":"application/json"}}).then(function(e){r?C(s(e.data.id),l):o(s(e.data.id))}).catch(function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)})}},{key:"componentDidMount",value:function(){S(this.props.saveRestro)}},{key:"render",value:function(){return-1==this.state.id&&this.state.isSubmited?s.a.createElement(Q,null):s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"jumbotron"},s.a.createElement("h1",{className:"display-3 my-5"},"Register your restaurant ",s.a.createElement("span",{className:"fa fa-cutlery fa-lg"})),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 col-md-9"},s.a.createElement(f.a,{onSubmit:this.handleSubmit},s.a.createElement(v.a,{className:"row"},s.a.createElement(X.a,{md:2,htmlFor:"username"},"Username"),s.a.createElement($.a,{md:10},s.a.createElement(ee.a,{type:"text",value:this.state.username,name:"username",id:"username",onChange:this.handleChange,placeholder:"Username"}))),s.a.createElement(v.a,{className:"row"},s.a.createElement(X.a,{md:2,htmlFor:"password"},"Password"),s.a.createElement($.a,{md:10},s.a.createElement(ee.a,{type:"password",value:this.state.password,name:"password",id:"password",onChange:this.handleChange,placeholder:"Password"}))),s.a.createElement(v.a,{className:"row"},s.a.createElement(X.a,{md:2,htmlFor:"email"},"Email"),s.a.createElement($.a,{md:10},s.a.createElement(ee.a,{type:"email",value:this.state.email,name:"email",id:"email",onChange:this.handleChange,placeholder:"Email"}))),s.a.createElement(v.a,{className:"row"},s.a.createElement(X.a,{md:2,htmlFor:"restaurantName"},"Restaurant Name"),s.a.createElement($.a,{md:10},s.a.createElement(ee.a,{type:"text",value:this.state.restaurantName,name:"restaurantName",id:"restaurantName",onChange:this.handleChange,placeholder:"Restaurant Name"}))),s.a.createElement(v.a,{className:"row"},s.a.createElement(X.a,{md:2,htmlFor:"vision"},"Vision"),s.a.createElement($.a,{md:10},s.a.createElement(ee.a,{type:"textarea",value:this.state.vision,name:"vision",id:"vision",onChange:this.handleChange,placeholder:"Vision For Restaurant",rows:"5"}))),s.a.createElement(v.a,{className:"row"},s.a.createElement(X.a,{md:2,htmlFor:"image"},"Vision"),s.a.createElement($.a,{md:10},s.a.createElement(ee.a,{type:"file",name:"image",id:"image",onChange:this.handleImageChange,placeholder:"Image"}))),s.a.createElement("input",{type:"submit",className:"text-primary"}))))))}}]),t}(n.Component),ae=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).setMainRestro=function(e){a.setState({MainRestro:e,isLogin:!0})},a.state={token:a.getCookie("token"),restaurants:[],isLogin:!1,MainRestro:null},a.setCookie=a.setCookie.bind(Object(d.a)(a)),a.getCookie=a.getCookie.bind(Object(d.a)(a)),a.saveRestros=a.saveRestros.bind(Object(d.a)(a)),a.logOut=a.logOut.bind(Object(d.a)(a)),a.logIn=a.logIn.bind(Object(d.a)(a)),a.logInFor1=a.logInFor1.bind(Object(d.a)(a)),a.setToken=a.setToken.bind(Object(d.a)(a)),a.setMainRestro=a.setMainRestro.bind(Object(d.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"setCookie",value:function(e,t,a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3);var s="expires="+n.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"}},{key:"getCookie",value:function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var s=a[n];" "===s.charAt(0);)s=s.substring(1);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return""}},{key:"saveRestros",value:function(e){this.setState({restaurants:Object(i.a)(e)})}},{key:"logIn",value:function(e,t){!function(e,t,a,n,s,o){console.log(e+","+t),w.a.post(O,{username:e,password:t},{headers:{"content-type":"application/json"}}).then(function(e){return a("token",e.data.token,10),n(e.data.token),S(s),R(e.data.token,o),console.log(e.data.token),e.data}).catch(function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)})}(e,t,this.setCookie,this.setToken,this.saveRestros,this.setMainRestro)}},{key:"logInFor1",value:function(e,t,a){!function(e,t,a,n,s){console.log(e+","+t),w.a.post(O,{username:e,password:t},{headers:{"content-type":"application/json"}}).then(function(e){return a("token",e.data.token,10),n(e.data.token),C(s,e.data.token),console.log(e.data.token),e.data}).catch(function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config)})}(e,t,this.setCookie,this.setToken,a)}},{key:"setToken",value:function(e){this.setState({token:e})}},{key:"logOut",value:function(){this.setCookie("token","",.1),this.setState({isLogin:!1,token:"",MainRestro:null})}},{key:"componentDidMount",value:function(){S(this.saveRestros),!this.state.isLogin&&this.state.token&&R(this.state.token,this.setMainRestro)}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(q,{logout:this.logOut,isLogin:this.state.isLogin}),s.a.createElement(g.d,null,s.a.createElement(g.b,{exact:!0,path:"/home",component:function(){return s.a.createElement(K,{MainRestro:e.state.MainRestro,saveRestros:e.saveRestros,restaurants:e.state.restaurants,token:e.state.token,isLogin:e.state.isLogin})}}),s.a.createElement(g.b,{exact:!0,path:"/login",component:function(){return s.a.createElement(I,{login:e.logIn})}}),s.a.createElement(g.b,{exact:!0,path:"/aboutus",component:_}),s.a.createElement(g.b,{exact:!0,path:"/createUser",component:function(){return s.a.createElement(te,{login:e.logInFor1,token:e.state.token,isLogin:e.state.isLogin,saveRestros:e.saveRestros})}}),s.a.createElement(g.a,{to:"/home"})))}}]),t}(n.Component);var ne=function(e){return s.a.createElement(l.a,null,s.a.createElement("div",null,s.a.createElement("h1",null,"Ntc React app"),s.a.createElement(ae,null)))};a(81),a(82);r.a.render(s.a.createElement(ne,null),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.582b545f.chunk.js.map