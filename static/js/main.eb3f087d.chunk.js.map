{"version":3,"sources":["components/LoginComponent.js","api/fetchWork.js","api/baseUrl.js","components/MainComponent.js","App.js","index.js"],"names":["Login","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","username","password","handleChange","bind","assertThisInitialized","handleSubmit","event","target","value","type","checked","name","setState","defineProperty","setCookie","alert","JSON","stringify","preventDefault","cookie","console","log","axios","post","headers","content-type","then","response","data","token","catch","error","status","request","message","config","react_default","a","createElement","className","Row","Form","onSubmit","FormGroup","placeholder","onChange","Component","Main","getCookie","cname","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","document","ca","decodeURIComponent","split","i","length","c","charAt","substring","indexOf","_this2","data1","method","url","authorization","elements","getRestaurants","Fragment","react_router","exact","path","component","LoginComponent","to","App","react_router_dom","MainComponent","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.eb3f087d.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Row, Form, FormGroup } from 'reactstrap';\r\nimport { fetchLogin } from \"../api/fetchWork\";\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\"\r\n        }\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n\r\n        this.setState({\r\n        [name]: value\r\n        });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        alert('A name was submitted: ' +  JSON.stringify(this.state));\r\n        event.preventDefault();\r\n        fetchLogin(this.state.username,this.state.password,this.props.cookie)\r\n        this.setState({username: \"\",password:\"\"})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <Row>\r\n                    <h1>Login</h1>\r\n                </Row>\r\n                <Row>\r\n                    <Form onSubmit={this.handleSubmit}>\r\n                        <FormGroup>\r\n                            <input type=\"text\" placeholder=\"username\" name=\"username\" value={this.state.username} onChange={this.handleChange}></input>\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange}></input>\r\n                        </FormGroup>\r\n                        <FormGroup>\r\n                            <input type=\"submit\" className=\"text-primary\"></input>\r\n                        </FormGroup>\r\n                    </Form>\r\n                </Row>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Login;","import { loginUrl, restaurantUrl } from './baseUrl'\r\nimport axios from 'axios';\r\nimport { resolve } from 'url';\r\n\r\nexport const fetchLogin = (username, password, setCookie) => {\r\n    // axios({\r\n    //     method: \"post\",\r\n    //     url: loginUrl,\r\n    //     data: {\r\n    //         username: String(username),\r\n    //         password: String(password)\r\n    //     },\r\n    //     headers: {\r\n    //         \"Content-Type\": \"application/json\",\r\n    //     }\r\n    // })\r\n    console.log(username + \",\" + password)\r\n    axios.post(loginUrl, {\r\n        username: username,\r\n        password: password\r\n    },\r\n        {\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n            }\r\n        }\r\n    )\r\n        .then(response => {\r\n            setCookie(\"token\", response.data.token, 10)\r\n            console.log(response.data.token);\r\n            return response.data\r\n        })\r\n        .catch(function (error) {\r\n            if (error.response) {\r\n                // The request was made and the server responded with a status code\r\n                // that falls out of the range of 2xx\r\n                console.log(error.response.data);\r\n                console.log(error.response.status);\r\n                console.log(error.response.headers);\r\n            } else if (error.request) {\r\n                // The request was made but no response was received\r\n                // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n                // http.ClientRequest in node.js\r\n                console.log(error.request);\r\n            } else {\r\n                // Something happened in setting up the request that triggered an Error\r\n                console.log('Error', error.message);\r\n            }\r\n            console.log(error.config);\r\n        })\r\n\r\n}\r\n\r\nexport const getRestaurants = (token) => {\r\n    var data1 = {}\r\n\r\n    console.log(token)\r\n\r\n    axios({\r\n        method: 'get',\r\n        url: restaurantUrl,\r\n        headers: {\r\n            \"content-type\": \"application/json\",\r\n            \"authorization\": \"Token \"+token,\r\n        }\r\n    }).then(response => {\r\n        data1.elements=response.data\r\n        return response.data;\r\n    })\r\n    .catch(function (error) {\r\n        if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n            console.log(error.response.data);\r\n            console.log(error.response.status);\r\n            console.log(error.response.headers);\r\n        } else if (error.request) {\r\n            // The request was made but no response was received\r\n            // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\r\n            // http.ClientRequest in node.js\r\n            console.log(error.request);\r\n        } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.log('Error', error.message);\r\n        }\r\n        console.log(error.config);\r\n    })\r\n    console.log(data1)\r\n    return data1;\r\n}","export const baseUrl=\"http://127.0.0.1:8000/\";\r\n\r\nexport const restaurantUrl=\"http://127.0.0.1:8000/restaurant/\";\r\n\r\nexport const loginUrl=\"http://127.0.0.1:8000/login/\";\r\n\r\nexport const createUserUrl=\"http://127.0.0.1:8000/login/\";\r\n\r\n\r\n","import React, { Component } from 'react';\r\nimport { Switch, Redirect, Route } from 'react-router-dom';\r\nimport Login from './LoginComponent';\r\nimport { getRestaurants } from '../api/fetchWork';\r\n\r\nclass Main extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            token:this.getCookie(\"token\")\r\n        }\r\n        this.setCookie = this.setCookie.bind(this);\r\n    }\r\n\r\n    setCookie(cname, cvalue, exdays) {\r\n        var d = new Date();\r\n        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n        var expires = \"expires=\" + d.toUTCString();\r\n        document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n    }\r\n\r\n    getCookie(cname) {\r\n        var name = cname + \"=\";\r\n        var decodedCookie = decodeURIComponent(document.cookie);\r\n        var ca = decodedCookie.split(';');\r\n        for (var i = 0; i < ca.length; i++) {\r\n            var c = ca[i];\r\n            while (c.charAt(0) === ' ') {\r\n                c = c.substring(1);\r\n            }\r\n            if (c.indexOf(name) === 0) {\r\n                return c.substring(name.length, c.length);\r\n            }\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n\r\n    render() {\r\n        getRestaurants(this.state.token)\r\n        return (\r\n            <>\r\n                <div>\r\n                    {this.state.token}\r\n                </div>\r\n                <div>\r\n                </div>\r\n                <Switch>\r\n                    <Route exact path=\"/login\" component={() => <Login cookie={this.setCookie} />} />\r\n                    <Redirect to=\"/\" />\r\n                </Switch>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Main;","import React from 'react';\nimport './App.css';\nimport { BrowserRouter } from 'react-router-dom';\nimport Main from './components/MainComponent';\n\n\nfunction App(props) {\n  \n  return (\n    <BrowserRouter>\n    <div>\n        <h1>Ntc React app</h1>\n        <Main/>\n    </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { CookiesProvider } from 'react-cookie';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'font-awesome/css/font-awesome.min.css';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}